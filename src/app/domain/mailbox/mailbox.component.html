<mat-progress-bar
  mode="indeterminate"
  *ngIf="mailbox === null"
></mat-progress-bar>

<section *ngIf="mailbox != null">
  <mat-accordion>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ mailbox.address }}
        </mat-panel-title>
        <mat-panel-description>
          {{ (mailbox.aliases)?.length }} Alias(es)
        </mat-panel-description>
      </mat-expansion-panel-header>

      <table *ngIf="(mailbox.aliases)?.length > 0">
        <thead>
          <tr>
            <th>Alias</th>
            <th>Copy</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let alias of mailbox.aliases">
            <td>{{ alias }}</td>
            <td>
              <button mat-button [appCopyClipboard]="getAliasEmail(alias)">
                <mat-icon aria-hidden="false" aria-label="Delete"
                  >file_copy</mat-icon
                >
              </button>
            </td>
            <td>
              <button mat-button (dblclick)="delete(alias)">
                <mat-icon aria-hidden="false" aria-label="Delete"
                  >delete_forever</mat-icon
                >
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </mat-expansion-panel>

    <mat-action-row>
      <input mapInput [(ngModel)]="this.newAlias" type="text" />
      <button mat-button (click)="add(newAlias)">Add alias</button>
    </mat-action-row>
  </mat-accordion>
</section>
